{% comment %}

Section: Collection products

Settings:

- Collection: Select the collection whose products will be used
- Max products range: Min 3, Max 16, Step 1


{% endcomment %}

<section class="collection-products">

    {{ 'collection-products.css' | asset_url | stylesheet_tag }}

    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="collection-products__container">
              <div class="collection-products__wrapper">

              {% render 'collection-card', collection: section.settings.collection %}

              {% for product in section.settings.collection.products limit: section.settings.max_products_range %}

                {% comment %} Use your snippet for product card {% endcomment %}
                {% render 'product-card',
                 product: product,
                %}
              {% endfor %}
              </div>
          </div>
        </div>
      </div>
    </div>

  </section>

{% schema %}
{
  "name":"Collection products",
  "tag":"section",
  "class":"section",
  "settings":[
    {
      "type":"collection",
      "id":"collection",
      "label":"t:sections.featured-collection.settings.collection.label"
    },
    {
      "type":"header",
      "content":"Card settings"
    },
    {
      "id":"max_products_range",
      "default":7,
      "type":"range",
      "min":3,
      "max":16,
      "step":1,
      "label":"Max product range.",
      "info":"Choice max products to show."
    }
  ],
  "presets":[
    {
      "name":"Collection products",
      "settings":{
        "collection":"all",
        "max_products_range":7
      }
    }
  ]
}
{% endschema %}